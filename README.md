# Flask Shop Project

## Описание

Этот проект представляет собой шаблон интернет-магазина, созданный на базе Flask. После установки и настройки вы получите пустую платформу для магазина с возможностью:
- Авторизации и управления пользователями.
- Заполнения магазина товарами.
- Управления баннерами и отображением категорий.
- Управления заказами.
- Разделением ролей (Администратор и Покупатель).
Добавление администратора происходит из консоли на сервере. При обычной регистрации через сам магазин создаётся профиль с ролью Покупатель.

## Установка и настройка

### 1. Установка зависимостей

Убедитесь, что у вас установлен Python (рекомендуется версия 3.8 и выше) и виртуальное окружение.

1. Создайте и активируйте виртуальное окружение:
   ```bash
   python -m venv env
   source env/bin/activate   # Linux/Mac
   env\Scripts\activate    # Windows
   ```

2. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```

### 2. Настройка базы данных

1. Инициализируйте базу данных:
   ```bash
   flask db init
   ```

2. Выполните первую миграцию:
   ```bash
   flask db migrate -m "Initial migration."
   flask db upgrade
   ```

### 3. Создание администратора

Для создания учетной записи администратора выполните команду:
```bash
python manage.py create_admin admin@email.co
```
Введите пароль и подтвердите его.

### 4. Запуск сервера

Для запуска сервера используйте команду:
```bash
gunicorn -w 4 'app:app'
```
> **Важно!** Gunicorn работает на Linux и Mac. Для Windows используйте Flask встроенный сервер:
```bash
flask run
```

## Использование

После запуска приложения вы можете:
1. Зайти как администратор с учетной записью, созданной ранее.
2. Заполнить магазин товарами, управлять отображением баннеров и товаров на главной странице.
3. Управлять заказами и просматривать информацию о клиентах.

## Структура проекта

```
static/                 # Статические файлы (CSS, JS, изображения)
templates/              # Шаблоны HTML
admin.py                # Модуль администрирования
app.py                  # Основное приложение
auth.py                 # Модуль авторизации
extensions.py           # Расширения (SQLAlchemy, Migrate, LoginManager)
main.py                 # Главная страница
manage.py               # Командный интерфейс
models.py               # Модели базы данных
shop.py                 # Модуль магазина
requirements.txt        # Список зависимостей
```

## Требования

- Python 3.8+
- SQLite (или другая СУБД, совместимая с SQLAlchemy)
- Flask и Flask-расширения (см. `requirements.txt`)
- Gunicorn (для продакшена на Linux/Mac)